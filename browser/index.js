!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).JSUtils={})}(this,(function(e){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,i(o.key),o)}}function o(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var r=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,"initCallback",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=function(){},o=e.onStart,i=void 0===o?n:o,r=e.onMove,a=void 0===r?n:r,c=e.onEnd,d=void 0===c?n:c;t.onStart=i,t.onMove=a,t.onEnd=d})),o(this,"on",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"onMove";if("function"==typeof t[e]){var n=t.x,o=t.y,i=t.moveX,r=t.moveY,a=t.startX,c=t.startY,d=t.endX,l=t.endY;t[e]({x:n,y:o,moveX:i,moveY:r,startX:a,startY:c,endX:d,endY:l})}})),o(this,"handleStart",(function(e){t.triggered="press"===t.trigger;var n=0,o=0;if(e instanceof TouchEvent){t.triggered=!0;var i=e.changedTouches[0]||{};n=i.clientX,o=i.clientY}if(e instanceof MouseEvent){var r=e||{};n=r.clientX,o=r.clientY}t.startX=n,t.startY=o,t.on("onStart")})),o(this,"handleMove",(function(e){var n=0,o=0;if(e instanceof TouchEvent){var i=e.changedTouches[0]||{};n=i.clientX,o=i.clientY}if(e instanceof MouseEvent){var r=e||{};n=r.clientX,o=r.clientY}o<t.ceil&&(o=t.ceil),o>t.floor&&(o=t.floor),t.x=n,t.y=o,t.moveX=n-t.startX,t.moveY=o-t.startY,t.triggered&&t.on()})),o(this,"handleEnd",(function(e){if("press"!==t.trigger){var n=0,o=0;if(e instanceof TouchEvent){var i=e.changedTouches[0]||{};n=i.clientX,o=i.clientY}if(e instanceof MouseEvent){var r=e||{};n=r.clientX,o=r.clientY}t.endX=n,t.endY=o,t.on("onEnd")}else t.triggered=!1})),this.x=0,this.y=0,this.moveX=0,this.moveY=0,this.startX=0,this.startY=0,this.endX=0,this.endY=0,this.initCallback(n);var i=n.trigger,r=void 0===i?"auto":i,a=n.ceil,c=void 0===a?0:a,d=n.floor,l=void 0===d?0:d;this.ceil=c,this.floor=window.innerHeight-l,this.trigger=r||"auto",this.triggered="auto"===r,this.register()}var t,i,r;return t=e,(i=[{key:"register",value:function(){window.addEventListener("touchstart",this.handleStart),window.addEventListener("touchmove",this.handleMove),window.addEventListener("touchend",this.handleEnd),window.addEventListener("mousedown",this.handleStart),window.addEventListener("mousemove",this.handleMove),window.addEventListener("mouseup",this.handleEnd)}},{key:"destroy",value:function(){window.removeEventListener("touchstart",this.handleStart),window.removeEventListener("touchmove",this.handleMove),window.removeEventListener("touchend",this.handleEnd),window.removeEventListener("mousedown",this.handleStart),window.removeEventListener("mousemove",this.handleMove),window.removeEventListener("mouseup",this.handleEnd)}}])&&n(t.prototype,i),r&&n(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function a(e){return e?+e<10?"0".concat(e):"".concat(e):e}function c(e){var t=e;t||(t=new Date);var n=t.getFullYear(),o=t.getMonth()+1,i=t.getDate(),r=t.getDay();return{year:n,month:o,day:i,hour:t.getHours(),minute:t.getMinutes(),second:t.getSeconds(),ms:t.getMilliseconds(),weekday:r,timestamp:t.getTime()}}e.MoveInfo=r,e.checkElementInWindowArea=function(e){if(!(e&&e instanceof HTMLElement))return!1;var t=e.getBoundingClientRect(),n=window,o=n.innerHeight,i=n.innerWidth,r=t.top>0&&t.top<o,a=t.bottom>0&&t.bottom<o,c=t.left>0&&t.left<i,d=t.right>0&&t.right<i;return(r||a)&&(c||d)},e.className=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=[].concat(t),i="";return o.forEach((function(e){Array.isArray(e)?i+=Array.from(new Set(e)).join(" ").trim():i+="".concat(e," ")})),i.trim()},e.dateFormat=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})||{},n=t.dateSeparator,o=void 0===n?"-":n,i=t.timeSeparator,r=void 0===i?":":i,d=t.paddingZero,l=void 0===d||d;if(!e)return"";var s=c(new Date(e)),u=s.year,f=s.month,v=s.day,h=s.hour,m=s.minute,g=s.second;return l&&(f=a(f),v=a(v),h=a(h),m=a(m),g=a(g)),"".concat(u).concat(o).concat(f).concat(o).concat(v," ").concat(h).concat(r).concat(m).concat(r).concat(g)},e.downloadFileInExtractFile=function(e,t){var n=document.createElement("a");n.href=e,n.rel="noreferrer noopener",n.download=t,n.style.visibility="hidden",document.body.appendChild(n),n.click(),document.body.removeChild(n)},e.downloadFileWithATag=function(e,t){window.fetch(e).then((function(e){return e.blob()})).then((function(e){var n=window.URL.createObjectURL(e),o=document.createElement("a");o.href=n,o.download=t,o.click(),window.URL.revokeObjectURL(n)})).catch((function(e){console.error("下载文件失败",e)}))},e.filterEmptyProp=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return Object.keys(e).forEach((function(n){["",null,void 0].includes(e[n])||(t[n]=e[n])})),t},e.getDateObjectValue=c,e.hello=function(){console.log("Hello, wellcome to use JSUtils.")},e.mergeObj=function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys().forEach((function(i){"object"===t(n[i])&&e(n[i],o[i]),void 0!==o[i]&&("object"===t(o[i])?e(n[i],o[i]):n[i]=o[i])})),n},e.numberPaddingZero=a,e.styleStrToObj=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split(";"),t={};return e.forEach((function(e){if(e){var n=e.split(":"),o=n[0]||"",i=n[1]||"";o&&(t[o.trim()]=i.trim())}})),t}}));
